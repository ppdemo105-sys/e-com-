<section class="bg-[#f2f2f2] mt-20" aria-label="Featured Products Section">
  <app-container className="grid py-10">
    <h2 class="text-3xl lg:text-4xl font-secondary font-semibold text-center">
      Featured Products
    </h2>

    <!-- Top Categories --->
    <ul class="top-category-list">
      @for (category of categories; track category.value) {
      <li>
        <button
          tabindex="0"
          class="inline-flex text-sm lg:text-[0.938rem] rounded-full px-2.5 sm:px-3 md:px-4 py-1.5 sm:py-2.5 transition-colors duration-100 hover:bg-surface cursor-pointer"
          [ngClass]="activeCategory() === category.value ? 'bg-surface' : 'bg-transparent'"
          (click)="activeCategory.set(category.value)"
        >
          {{category.label}}
        </button>
      </li>
      }
    </ul>

    <!-- Loading State -->
    @if (isLoading()) {
    <ul
      class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 items-center gap-8 lg:gap-12 xl:gap-20 mt-14 md:mt-20"
    >
      @for (skeletonCard of skeletonCards; track $index) {
      <li>
        <app-skeleton-card />
      </li>
      }
    </ul>
    }

    <!-- Error State -->
    @else if (errorState()) {
    <h3 class="text-center text-red-500">{{errorState()}}</h3>
    }

    <!-- Featured Products -->
    @else if (featuredProducts().length > 0) {
    <ul class="products-list">
      @for (product of featuredProducts(); track product.id) {
      <li>
        <app-product-card [product]="product" />
      </li>
      }
    </ul>
    }

    <!-- No Products -->
    @else {
    <p class="text-center py-10">No featured products found.</p>
    }

    <button
      class="inline-flex items-center mt-12 bg-accent px-4 py-1.5 gap-2 text-surface w-max place-self-center text-xl transition-colors duration-200 hover:bg-accent/90 group cursor-pointer"
      [routerLink]="['/shop']"
    >
      View All

      <!-- Icon -->
      <span
        aria-hidden="true"
        class="transition-transform duration-200 group-hover:translate-x-1"
        ><svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          class="size-6"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"
          />
        </svg>
      </span>
    </button>
  </app-container>
</section>
