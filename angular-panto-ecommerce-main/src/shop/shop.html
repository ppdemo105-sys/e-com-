<section aria-label="Shop Section">
  <!-- Banner -->
  <div
    class="relative h-[400px] overflow-hidden [clip-path:polygon(0_0,100%_0,100%_85%,0_100%)]"
  >
    <img
      src="/shop-bg.jpg"
      alt="Shop Background"
      class="size-full object-cover object-center"
    />

    <h2
      class="absolute top-1/2 left-1/2 -translate-1/2 text-accent text-shadow-md text-shadow-orange-200 text-7xl md:text-8xl lg:text-9xl font-secondary font-semibold text-center"
    >
      Shop
    </h2>
  </div>

  <app-container>
    <!-- Filters -->
    <app-filters (filterChange)="onFilterChange($event)" />

    <!-- Loading State -->
    @if (isLoading()) {
    <ul
      class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 items-center gap-8 lg:gap-12 xl:gap-20 mt-14 md:mt-20"
    >
      @for (skeletonCard of skeletonCards; track $index) {
      <li>
        <app-skeleton-card />
      </li>
      }
    </ul>
    }

    <!-- Error State -->
    @else if (errorState()) {
    <h3 class="text-center text-red-500">{{errorState()}}</h3>
    }

    <!-- Featured Products -->
    @else if (products().length > 0) {
    <ul class="products-list">
      @for (product of products(); track product.id) {
      <li>
        <app-product-card [product]="product" />
      </li>
      }
    </ul>
    }

    <!-- No Products -->
    @else {
    <p class="text-center py-10">No featured products found.</p>
    }

    <!-- Navigation Buttons -->
    <div class="flex items-center justify-between mt-14 py-2">
      <!-- Go To Previous Page -->
      <button
        class="inline-flex items-center rounded-full bg-accent p-3 sm:px-4 sm:py-1.5 gap-2 text-surface w-max place-self-center text-xl transition-all duration-200 focus:scale-105 hover:bg-accent/90 group cursor-pointer"
        aria-label="Previous Page"
        [ngClass]="isLoading() || currentPage() === 1 ? 'opacity-70 pointer-events-none' : ''"
        [disabled]="isLoading() || currentPage() === 1"
        [attr.aria-disabled]="(isLoading() || currentPage() === 1) ? true : null"
        (click)="goToPrevPage()"
      >
        <span aria-hidden="true"
          ><svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="size-6"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"
            /></svg
        ></span>

        <p class="hidden sm:block">Prev.</p>
      </button>

      <!-- Pagination -->
      <p
        class="flex items-center gap-3 sm:gap-4 md:gap-5 text-lg lg:text-xl font-medium"
      >
        Page
        <span class="grid place-items-center border border-border px-3 py-2"
          >{{currentPage()}}</span
        >
        of
        <span class="grid place-items-center border border-border px-3 py-2"
          >{{totalPages()}}</span
        >
      </p>

      <!-- Go To Next Page -->
      <button
        class="inline-flex items-center rounded-full bg-accent p-3 sm:px-4 sm:py-1.5 gap-2 text-surface w-max place-self-center text-xl transition-all duration-200 focus:scale-105 hover:bg-accent/90 group cursor-pointer"
        aria-label="Next Page"
        [ngClass]="isLoading() || currentPage() === totalPages() ? 'opacity-70 pointer-events-none' : ''"
        [disabled]="isLoading() || currentPage() === totalPages()"
        [attr.aria-disabled]="(isLoading() || currentPage() === totalPages()) ? true : null"
        (click)="goToNextPage()"
      >
        <span aria-hidden="true"
          ><svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="size-6"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="m15 15 6-6m0 0-6-6m6 6H9a6 6 0 0 0 0 12h3"
            />
          </svg>
        </span>

        <p class="hidden sm:block">Next</p>
      </button>
    </div>
  </app-container>
</section>
